{"mappings":"AAIA,MAAMA,EAAaC,SAASC,cAAc,gBACpCC,EAAUF,SAASC,cAAc,YACjCE,EAAcH,SAASC,cAAc,6BAErCG,EAAqB,ICLZ,MAKbC,gBAIkB,OAATC,MACL,qEAAgCC,KAAKC,uEAAuED,KAAKE,sBAEhHC,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACJC,QAAQC,IAAIF,GACZN,KAAKS,gBAEEH,EAAKI,O,CAIaD,gBAC7BT,KAAKE,MAAQ,C,CAGfS,YACEX,KAAKE,KAAO,C,CAGVU,YACF,OAAOZ,KAAKC,W,CAGVW,UAAMC,GACRb,KAAKC,YAAcY,C,CAjCrBC,cACEd,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,GDgCD,SAANa,EAAqBL,GAC5Bf,EAAQqB,mBAAmB,YAI7B,SAAwBN,GACtB,OAAOA,EACJO,KAAIC,GACI,2CACGA,EAAIC,sBAAsBD,EAAIE,4GAGjBF,EAAIG,8EAGJH,EAAII,iFAGDJ,EAAIK,qFAGHL,EAAIM,sDAMhCC,KAAK,G,CA1BgCC,CAAehB,G,CA4BzD,SAASiB,IACPhC,EAAQiC,UAAY,E,CA1DtBpC,EAAWqC,iBAAiB,UAG5B,SAAkBC,GAOhB,GANAA,EAAMC,iBAEmCJ,IAEhB9B,EAANe,MACjBkB,EAAME,cAAcC,SAAShC,YAAYiC,MAAMC,OAChB,KAA7BtC,EAAmBe,MACrB,OAAOwB,MAAM,eAGiCvC,EAA7Bc,YAEmCd,EAAnCC,gBAAgBK,MAAKO,IAEqBiB,IAC3DZ,EAAqBL,EAAK,G,IAlB9Bd,EAAYiC,iBAAiB,SAsB7B,WAE4ChC,EAAvBC,gBAAgBK,KAAKY,E","sources":["src/index.js","src/js/articles-api-service.js"],"sourcesContent":["import './css/styles.css';\n// import articlesTpl from './templates/articles.hbs';\nimport ArticlesApiService from './js/articles-api-service';\n\nconst searchForm = document.querySelector('.search-form');\nconst gallary = document.querySelector('.gallery');\nconst loadMoreBtn = document.querySelector('[data-action=\"load-more\"]');\n\nconst articlesApiService = new ArticlesApiService();\n\nsearchForm.addEventListener('submit', onSearch);\nloadMoreBtn.addEventListener('click', onLoadMore);\n\nfunction onSearch(event) {\n  event.preventDefault();\n  //очищуємо контейнер з картками при новому запиті\n  clearArticlesContainer();\n  // Забираємо термін для пошуку у set\n  articlesApiService.query =\n    event.currentTarget.elements.searchQuery.value.trim();\n  if (articlesApiService.query === '') {\n    return alert('немає даних');\n  }\n  // При зміні пошуку та сабміті форми робимо пошук з 1 сторінки\n  articlesApiService.resetPage();\n  // then повертає масив об'єктів hits і передає їх у функцію сворення розмітки appendArticlesMarkup\n  articlesApiService.fetchArticles().then(hits => {\n    //очищуємо контейнер з картками при новому запиті і додаємо нові картки\n    clearArticlesContainer();\n    appendArticlesMarkup(hits);\n  });\n}\n\nfunction onLoadMore() {\n  // викликаємо метод пошуку даних та виводимо картки\n  articlesApiService.fetchArticles().then(appendArticlesMarkup);\n}\n// додаємо картку до gallary\nfunction appendArticlesMarkup(hits) {\n  gallary.insertAdjacentHTML('beforeend', renderArticles(hits));\n}\n\n// рендерим картку, у функцію приходить масив об'єктів\nfunction renderArticles(hits) {\n  return hits\n    .map(hit => {\n      return `<div class=\"photo-card\">\n    <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\" loading=\"lazy\" />\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes: </b></br>${hit.likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views: </b></br>${hit.views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments: </b></br>${hit.comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads: </b></br>${hit.downloads}\n      </p>\n    </div>\n  </div>\n    `;\n    })\n    .join('');\n}\nfunction clearArticlesContainer() {\n  gallary.innerHTML = '';\n}\n\n// const options = {\n//   headers: {\n//     key: '31909701-b05a4a73718479a7bf524b9e0',\n//   },\n// };\n","const API_KEY = '31909701-b05a4a73718479a7bf524b9e0';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport default class ArticlesApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n  fetchArticles() {\n    // console.log(this);\n\n    // повертаємо проміс\n    return fetch(\n      `${BASE_URL}?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&${this.page}=1&per_page=40`\n    )\n      .then(response => response.json())\n      .then(data => {\n        console.log(data);\n        this.incrementPage();\n        // дані у data, у консолі прийшов масив hits з об'єктами\n        return data.hits;\n      });\n  }\n  //   Після запиту збільшуємо сторінку на 1\n  incrementPage() {\n    this.page += 1;\n  }\n  // метод, який збрасує сторінку на 1\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["$1f0dc3b9307be026$var$searchForm","document","querySelector","$1f0dc3b9307be026$var$gallary","$1f0dc3b9307be026$var$loadMoreBtn","$1f0dc3b9307be026$var$articlesApiService","fetchArticles","fetch","this","searchQuery","page","then","response","json","data","console","log","incrementPage","hits","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$appendArticlesMarkup","insertAdjacentHTML","map","hit","webformatURL","tags","likes","views","comments","downloads","join","$1f0dc3b9307be026$var$renderArticles","$1f0dc3b9307be026$var$clearArticlesContainer","innerHTML","addEventListener","event","preventDefault","currentTarget","elements","value","trim","alert"],"version":3,"file":"index.e68aea96.js.map"}